package com.amazon.pageoperations;

import org.openqa.selenium.WebDriver;

import com.amazon.pageobjects.SearchProdcutPage;

public class SearchProductPageOperations {

	SearchProdcutPage searchProdcutPage;
	
	public SearchProductPageOperations(WebDriver webDriver) {
		
		searchProdcutPage=new SearchProdcutPage(webDriver);
		
	}
	
	public void enterProductNameAndSearch(String productName) {
		
		searchProdcutPage.enterProductNameOnTextBox(productName);
		searchProdcutPage.clickOnSearchProduct();
	}
	
	public void getProductByPrice() {
		
		// Find all price elements less than $100
		List<WebElement> cheapProducts = driver.findElements(By.xpath("//span[@class='a-price']/span[@class='a-offscreen' and translate(substring(., 2), ',', '') < '100']"));

		// Loop through the list of cheap products and do something with them
		for (WebElement product : cheapProducts) {
		    System.out.println("Cheap product price: " + product.getText());
		}

	}
}
