package com.amazon.pageobjects;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.interactions.Actions;



public class SearchProdcutPage {

	WebDriver driver;

	public SearchProdcutPage(WebDriver driver){
		
		this.driver=driver;
	}

	By searchBox = By.id("twotabsearchtextbox");

	By searchBtn = By.id("nav-search-submit-button");
	
	public WebElement getSearchBox() {

		return driver.findElement(searchBox);
	}
	
	public void clickOnSearchProduct() {
		driver.findElement(searchBtn).click();
	}

	public void clickOnProductByPrice(String amount) {
		
		List<WebElement> cheapProducts = driver.findElements(By.xpath("//span[@class='a-price']/span[@class='a-offscreen' and translate(substring(., 2), ',', '') > '"+amount+"']"));
		Actions actions=new Actions(driver);
		actions.moveToElement(cheapProducts.get(0)).click().perform();
		
	}
	public WebElement getProductByPrice(String amount) {
		
		
		List<WebElement> cheapProducts = driver.findElements(By.xpath("//span[@class='a-price']/span[@class='a-offscreen' and translate(substring(., 2), ',', '') > '"+amount+"']"));
		//span[@class='a-price']/span[@class='a-offscreen' and translate(substring(., 2), ',', '') >50000 and @class='a-offscreen' and translate(substring(., 2), ',', '')<100000 ]
		
		return cheapProducts.get(0);
		
	}
}
