package com.amazon.pageobjects;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;



public class SearchProdcutPage {

	WebDriver driver;

	public SearchProdcutPage(WebDriver driver){
		
		this.driver=driver;
	}

	By searchBox = By.id("twotabsearchtextbox");

	By searchBtn = By.id("nav-search-submit-button");
	
	public void enterProductNameOnTextBox(String productName) {

		driver.findElement(searchBox).clear();
		driver.findElement(searchBox).sendKeys(productName);
	}
	
	public void clickOnSearchProduct() {
		driver.findElement(searchBtn).click();
	}

	public WebElement getProductByPrice(String amount) {
		
		// Find all price elements less than $100
		List<WebElement> cheapProducts = driver.findElements(By.xpath("//span[@class='a-price']/span[@class='a-offscreen' and translate(substring(., 2), ',', '') > '"+amount+"']"));
		//span[@class='a-price']/span[@class='a-offscreen' and translate(substring(., 2), ',', '') >50000 and @class='a-offscreen' and translate(substring(., 2), ',', '')<100000 ]
		
		return cheapProducts.get(0);
		
	}
}
